<script type="text/javascript">
    (function() {
        function isString(v) {
            return typeof v === 'string';
        }

        RED.nodes.registerType('openapi config', {
            category: 'config',
            defaults: {
                name: {
                    value: 'openapi config',
                    validate: isString,
                },
                schemas: {
                    value: [],
                    required: true,
                    validate: Array.isArray,
                },
                location: {
                    value: 'upload',
                    required: true,
                    validate: isString,
                },
            },
            icon: 'icon.png',
            inputs: 0,
            outputs: 1,
            color: '#63db2a',
            label: function() {
                return this.name || 'openapi-config';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: function() {
                // const fileLocationGroupd = $('#openapi-config-location-file-group');
                // const serverLocationGroupd = $(
                //     '#openapi-config-location-file-group',
                // );
                // fileLocationGroupd.hide();
                // serverLocationGroupd.hide();
                // const locationRadio = $('input[name="openapi-config-location"]');
                // locationRadio.on('change', function() {});
                // const list = $('#node-config-openapi-schema-list');
                // this.value.forEach(item => {
                //     list.append(`<li><span>${item}</span></li>`);
                // });
            },
        });
    })();
</script>

<script type="text/x-red" data-template-name="openapi config">
    <div class="form-row">
        <label for="openapi-config-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="openapi-config-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="openapi-config-location"><i class="fa fa-tag"></i> Load schema from:</label>
        <input type="radio" name="openapi-config-location" value="upload" checked> File<br>
        <input type="radio" name="openapi-config-location" value="female"> Server<br>
    </div>
    <div class="form-row">
        <label for="openapi-config-location-file"><i class="fa fa-tag"></i> Schema</label>
        <input type="file" id="openapi-config-location-file" placeholder="Schema">
        <input type="submit" value="Upload" />
    </div>
    <div class="form-row">
        <label for="node-config-openapi-schema"><i class="fa fa-tag"></i> Schema</label>
        <input type="text" id="node-config-openapi-schema" placeholder="Schema">
    </div>
    <div class="form-row">
        <label for="node-config-openapi-schema-list"><i class="fa fa-tag"></i> Schema</label>
        <ul id="node-config-openapi-schema-list">/<ul>
    </div>
    <div class="form-tips"><b>Tip:</b> This is here to help.</div>
</script>

<script type="text/x-red" data-help-name="openapi-config">
    <p>Some useful help text to introduce the node.</p>
    <h3>Outputs</h3>
        <dl class="message-properties">
        <dt>payload
            <span class="property-type">string | buffer</span>
        </dt>
    <h3>Details</h3>
    <p>Some more information about the node.</p>
</script>
